!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=jQuery},function(e,t,n){e.exports=function(){"use strict";
/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}var r=RegExp.prototype.test,s=/\S/;function a(e){return!function(e,t){return r.call(e,t)}(s,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,u=/\s+/,d=/\s*=/,p=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function h(e){this.string=e,this.tail=e,this.pos=0}function m(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function g(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},h.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},m.prototype.push=function(e){return new m(e,this)},m.prototype.lookup=function(e){var t,i,r,s=this.cache;if(s.hasOwnProperty(e))t=s[e];else{for(var a,l,c,u=this,d=!1;u;){if(e.indexOf(".")>0)for(a=u.view,l=e.split("."),c=0;null!=a&&c<l.length;)c===l.length-1&&(d=o(a,l[c])||(i=a,r=l[c],null!=i&&"object"!=typeof i&&i.hasOwnProperty&&i.hasOwnProperty(r))),a=a[l[c++]];else a=u.view[e],d=o(u.view,e);if(d){t=a;break}u=u.parent}s[e]=t}return n(t)&&(t=t.call(this.view)),t},g.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},g.prototype.parse=function(e,n){var o=this.templateCache,r=e+":"+(n||v.tags).join(":"),s=void 0!==o,l=s?o.get(r):void 0;return null==l&&(l=function(e,n){if(!e)return[];var o,r,s,l=!1,m=[],g=[],y=[],w=!1,C=!1,b="",x=0;function k(){if(w&&!C)for(;y.length;)delete g[y.pop()];else y=[];w=!1,C=!1}function E(e){if("string"==typeof e&&(e=e.split(u,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);o=new RegExp(i(e[0])+"\\s*"),r=new RegExp("\\s*"+i(e[1])),s=new RegExp("\\s*"+i("}"+e[1]))}E(n||v.tags);for(var S,T,_,I,A,P,z=new h(e);!z.eos();){if(S=z.pos,_=z.scanUntil(o))for(var O=0,F=_.length;O<F;++O)a(I=_.charAt(O))?(y.push(g.length),b+=I):(C=!0,l=!0,b+=" "),g.push(["text",I,S,S+1]),S+=1,"\n"===I&&(k(),b="",x=0,l=!1);if(!z.scan(o))break;if(w=!0,T=z.scan(f)||"name",z.scan(c),"="===T?(_=z.scanUntil(d),z.scan(d),z.scanUntil(r)):"{"===T?(_=z.scanUntil(s),z.scan(p),z.scanUntil(r),T="&"):_=z.scanUntil(r),!z.scan(r))throw new Error("Unclosed tag at "+z.pos);if(A=">"==T?[T,_,S,z.pos,b,x,l]:[T,_,S,z.pos],x++,g.push(A),"#"===T||"^"===T)m.push(A);else if("/"===T){if(!(P=m.pop()))throw new Error('Unopened section "'+_+'" at '+S);if(P[1]!==_)throw new Error('Unclosed section "'+P[1]+'" at '+S)}else"name"===T||"{"===T||"&"===T?C=!0:"="===T&&E(_)}if(k(),P=m.pop())throw new Error('Unclosed section "'+P[1]+'" at '+z.pos);return function(e){for(var t,n=[],i=n,o=[],r=0,s=e.length;r<s;++r)switch((t=e[r])[0]){case"#":case"^":i.push(t),o.push(t),i=t[4]=[];break;case"/":o.pop()[5]=t[2],i=o.length>0?o[o.length-1][4]:n;break;default:i.push(t)}return n}(function(e){for(var t,n,i=[],o=0,r=e.length;o<r;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(i.push(t),n=t));return i}(g))}(e,n),s&&o.set(r,l)),l},g.prototype.render=function(e,t,n,i){var o=this.getConfigTags(i),r=this.parse(e,o),s=t instanceof m?t:new m(t,void 0);return this.renderTokens(r,s,n,e,i)},g.prototype.renderTokens=function(e,t,n,i,o){for(var r,s,a,l="",c=0,u=e.length;c<u;++c)a=void 0,"#"===(s=(r=e[c])[0])?a=this.renderSection(r,t,n,i,o):"^"===s?a=this.renderInverted(r,t,n,i,o):">"===s?a=this.renderPartial(r,t,n,o):"&"===s?a=this.unescapedValue(r,t):"name"===s?a=this.escapedValue(r,t,o):"text"===s&&(a=this.rawValue(r)),void 0!==a&&(l+=a);return l},g.prototype.renderSection=function(e,i,o,r,s){var a=this,l="",c=i.lookup(e[1]);if(c){if(t(c))for(var u=0,d=c.length;u<d;++u)l+=this.renderTokens(e[4],i.push(c[u]),o,r,s);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)l+=this.renderTokens(e[4],i.push(c),o,r,s);else if(n(c)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(i.view,r.slice(e[3],e[5]),(function(e){return a.render(e,i,o,s)})))&&(l+=c)}else l+=this.renderTokens(e[4],i,o,r,s);return l}},g.prototype.renderInverted=function(e,n,i,o,r){var s=n.lookup(e[1]);if(!s||t(s)&&0===s.length)return this.renderTokens(e[4],n,i,o,r)},g.prototype.indentPartial=function(e,t,n){for(var i=t.replace(/[^ \t]/g,""),o=e.split("\n"),r=0;r<o.length;r++)o[r].length&&(r>0||!n)&&(o[r]=i+o[r]);return o.join("\n")},g.prototype.renderPartial=function(e,t,i,o){if(i){var r=this.getConfigTags(o),s=n(i)?i(e[1]):i[e[1]];if(null!=s){var a=e[6],l=e[5],c=e[4],u=s;0==l&&c&&(u=this.indentPartial(s,c,a));var d=this.parse(u,r);return this.renderTokens(d,t,i,u,o)}}},g.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},g.prototype.escapedValue=function(e,t,n){var i=this.getConfigEscape(n)||v.escape,o=t.lookup(e[1]);if(null!=o)return"number"==typeof o&&i===v.escape?String(o):i(o)},g.prototype.rawValue=function(e){return e[1]},g.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},g.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var v={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){y.templateCache=e},get templateCache(){return y.templateCache}},y=new g;return v.clearCache=function(){return y.clearCache()},v.parse=function(e,t){return y.parse(e,t)},v.render=function(e,n,i,o){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(t(r=e)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return y.render(e,n,i,o)},v.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))},v.Scanner=h,v.Context=m,v.Writer=g,v}()},function(e,t,n){e.exports=n(3)},function(e,t,n){n(4),n(5),n(6);var i=n(7),o=n(1);const{render:r}=n(1);var s="";function a(e){$.magnificPopup.open({items:{src:e,type:"ajax"},alignTop:!0,overflowY:"scroll",closeOnContentClick:!1,ajax:{settings:{type:"GET",data:{ajax:!0}}},closeMarkup:'<button title="Close (Esc)" type="button" class="mfp-close arte-button--close font-size-xxs"><svg class="inline-block arte-icon arte-icon--small arte-icon--close" aria-labelledby="arte-icon--close" role="img"><title id="arte-icon--close__title">Close (Esc)</title><use xlink:href="#arte-icon--close"></use></svg></button>'})}function l(e){$.magnificPopup.open({type:"inline",items:{src:e},callbacks:{close:function(){var e=$("#artevid iframe");e.length>0&&e.remove()}},fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",preloader:!1,midClick:!0,removalDelay:300,mainClass:"home-mfp-slide-bottom",closeMarkup:'<button title="Close (Esc)" type="button" class="mfp-close arte-button--close font-size-xxs"><svg class="inline-block arte-icon arte-icon--small arte-icon--close" aria-labelledby="arte-icon--close" role="img"><title id="arte-icon--close__title">Close (Esc)</title><use xlink:href="#arte-icon--close"></use></svg></button>'})}function c(e,t,n,i){console.debug(e,t,n,i),$("body").toggleClass("is-loading"),$.getJSON(timelineAjaxData.mainurl+"/wp-json/artetimeline/v1/gettimelineteaser?cats="+e+"&offset="+t+"&limit="+n,(function(e){null!=e&&(new_first_year=0,console.debug("data"),console.debug(e),e.forEach(e=>{if(Object.keys(e.posts).length>0){var t;const s=[];var n=Object.keys(e.posts);n.reverse(),console.debug("years"),console.debug(n),t=n[n.length-1],new_first_year=n[0]>new_first_year?n[0]:new_first_year,n.forEach(t=>{var n=document.createElement("div");n.className="row wrapper-timeline-year hide",n.id=t;var i='<div class="timeline-year font-bold">'+t+"</div>";i+='<div class="wrapper-list-posts"><div class="list-posts" id="list-'+t+'"><div class="small-12 medium-12 columns arte-grid__columns timel wrapper-timeline-teaser remove-paddings" id="grid-'+t+'" data-columns="">',s.push(new Promise((r,s)=>{$.get(timelineAjaxData.urltpl+"/js/tpls/loop-teaser.mustache",(function(s){e.posts[t].length>0?e.posts[t].forEach(e=>{var t=o.render(s,e);i+=t}):n.className+=" no-posts",i+='</div><div class="clearfix"></div></div>',n.innerHTML=i,r(n)}))}))});var r=document.getElementById("years_container");Promise.all(s).then(e=>{e.forEach(e=>{r.append(e)}),$(".infiniteLoad").data("arteoffset",t),$(".infiniteLoad").removeClass("disabled"),$(".year").slice(-1).data("year")==t&&$(".infiniteLoad").hide(),$(".row.wrapper-timeline-year.hide").each((e,t)=>{$(t).prev(".row.wrapper-timeline-year").hasClass("no-posts")&&$(t).hasClass("no-posts")||$(t).removeClass("hide"),$(t).hasClass("no-posts")&&$(t).find(".wrapper-timeline-teaser").append("<div>"+window.no_posts_msg+"</div>"),$(t).find(".entry-content").each((function(){f($(this))}))}),$(".row.wrapper-timeline-year.hide").remove(),$(".row.wrapper-timeline-year.no-posts .list-posts").addClass("dotted"),window.bLazy.revalidate(),scroll_to_year=1==i?t:new_first_year,console.debug("final year:"),console.debug(scroll_to_year),u($("[data-year='"+scroll_to_year+"']"))})}})),$("body").toggleClass("is-loading")}))}function u(e){if(!e.hasClass("active")){$(".nav-years .year.active").removeClass("active"),e.addClass("active"),disable=!0;var t=$("#"+e.data("year")),n=parseInt($($(".wrapper-timeline-year")[0]).attr("id")),i=e.data("year");if(!t.length)for(var o=i;o<=n;o++)if($("#"+o).length){t=$("#"+o);break}$("html, body").stop().animate({scrollTop:t.offset().top-100},1500,"swing",()=>disable=!1)}}function d(){$(".royalSlider").length>0&&_.defer((function(){$(".royalSlider").royalSlider({arrowsNavAutoHide:!1,controlNavigation:"bullets",autoScaleSlider:!0})}))}function p(){if($(window).width()<=640&&""==s){$(".arte-timeline--keynumbers").css({width:100*$(".arte-timeline--key-number").length+"%"});var e=0;s=setInterval((function(){$(".arte-timeline--keynumbers").animate({left:-100*e+"%"},400),++e==$(".arte-timeline--key-number").length&&(e=0)}),2800)}else $(window).width()>640&&""!=s&&($(".arte-timeline--keynumbers").css({width:"auto",left:"auto"}),clearInterval(s),s="")}function f(e){var t,n=e.closest("article"),i=n.find(".arte-timeline--read-more"),o=n.find(".spacer"),r=n.data("haslink");(t=$(e)[0]).scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth||r?(i.show(),o.hide()):(i.hide(),o.show())}!function(e){jQuery(document).ready((function(){e(document).ready((function(){if(e(".arte-timeline--keynumbers").length>0){p();var t=_.debounce(p,200);e(window).resize(t)}})),d(),e(".list-posts").each((function(){var t=e(this).find(".timeline-year"),n="9999";t.each((function(){var t=e(this).text();t==n?e(this).addClass("display--none"):n=t})),e(this).data("currentYear",n)})),e("#timeline-scrollspy a").click((function(t){t.preventDefault();var n=e(this).attr("href"),i=e(this).parent().hasClass("arte-timeline__scrollspy-item")?-260:0;e.scrollTo(e(n),800,{offset:i})})),e(".arte-menuOpener").on("click",(function(t){t.preventDefault(),e(this).addClass("arte-menuOpener--opened").next("ul").fadeIn()})),e("#timeline-scrollspy a").on("click",(function(t){t.preventDefault(),e("#timeline-scrollspy").fadeOut("fast"),e(".arte-timeline__scrollspy-current").html(e(this).html()),e(".arte-menuOpener").toggleClass("arte-menuOpener--opened")})),e(".arte-header__tostick").length>0&&void 0!==Foundation&&void 0!==Foundation.MediaQuery&&"small"!=Foundation.MediaQuery.current&&e(".arte-header__tostick").sticky({topSpacing:-239,zIndex:100}),e(".catFilters").sticky({topSpacing:56,zIndex:100}),e("body").on("click",".magnific",(function(t){t.preventDefault(),a(e(this).attr("href"))})),e("body").on("click",".arte-button--close",(function(){e.magnificPopup.close()})),e("#page-header-sticky-wrapper").waypoint({handler:function(t){var n="down"==t?0:1;e("#page-header").hasClass("arte-header__tostick-home")?e(".arte-header__description").css({opacity:n}):e(".arte-header__sticky-title").animate({opacity:n})},offset:-110}),e(".arte-timeline--slice-title.arte-timeline--slice-title__inpage").waypoint({handler:function(t){var n="down"==t?"-=99":"+=99";e(".inner-slider").animate({top:n},"fast","swing")},offset:160}),e(".arte-grid__progressive").each((function(){var t=e(this).attr("id");i.init("#"+t,{"screen and (max-width: 20em)":{columns:1,columnClasses:"column size-1of1"},"screen and (min-width: 20em) and (max-width: 40em)":{columns:1,columnClasses:"column size-1of1"},"screen and (min-width: 40em)":{columns:2}})})),e.fn.isInViewport=function(){var t=e(this).offset().top+250,n=t+e(this).outerHeight(),i=e(window).scrollTop(),o=i+e(window).height();return n>i&&t<o},e(".infinite").each((function(){var t=e(this).attr("id");e("#"+t).waypoint({handler:function(n){var i=e("#"+t).data().arteoffset,o=e("#"+t).data().artecats,r=e("#"+t).data().timelineid;if(!0===e("#list-"+r).hasClass("deployed"))var s=setTimeout((function(){e("#"+t).isInViewport()?c(o,i,r):clearTimeout(s)}),1e3)},offset:"bottom-in-view"})})),e("a.deploy").each((function(){e(this).on("click",(function(t){t.preventDefault();var n=e(this).data().deploy;e(this).hasClass("arte-arrow--deployed")?(e("#"+n).slideUp(),e(this).removeClass("arte-arrow--deployed")):(e("#"+n).slideDown(400,(function(){d(),e(window).trigger("resize")})),e(this).addClass("arte-arrow--deployed"))}))})),e(".arte-header__categories .nav").fadeIn("fast"),e("body").on("click",".popup-video-magnific",(function(t){t.preventDefault();var n=e(this).attr("href");ArteVpPlayerLib.parseDom(),l(n)})),e("body").on("click",".infiniteLoad",(function(t){if(t.preventDefault(),!e(this).hasClass("disabled")&&!e("body").hasClass("is-loading")){e(this).addClass("disabled");var n=e(this).attr("id"),i=e("#"+n).data().arteoffset;c(e("#"+n).data().artecats,i,0,2)}})),e("body").on("click",".year",(function(t){if(t.preventDefault(),!e("body").hasClass("is-loading")){var n=e(this),i=n.data("year");if(e("#"+i).length||e(".wrapper-timeline-year").slice(-1).attr("id")<i)u(n);else c(e(".infiniteLoad").data().artecats,e(".infiniteLoad").data().arteoffset,i,1)}})),e(".arte-dummy__item span").on("click",(function(t){t.preventDefault(),e(".catFilters").fadeIn()})),e(".catFilters").length>0&&e(".catFilters>li").length>0&&e(".catFilters>li").each((function(){e(this).find("ul").length>0&&(e(this).addClass("is-dropdown-submenu-parent opens-right").attr("role","menuitem"),e(this).find("ul").addClass("menu children submenu is-dropdown-submenu first-sub vertical").attr("role","menu").attr("data-submenu",""),e(this).find("li").addClass("is-submenu-item is-dropdown-submenu-item").attr("role","menuitem"))}));e(document).on("scroll",(function(t){var n=e(".nav-years");e(".wrapper-timeline-year").each((function(){if(Math.abs(e(this)[0].getBoundingClientRect().top)<150){n.find("li.active").removeClass("active");var t=e(this).attr("id"),i=e(`[data-year='${t}']`);i.addClass("active"),i.closest(".inner").hasClass("hide")&&(n.find(".inner").addClass("hide"),i.closest(".inner").removeClass("hide"),n.find(".period").removeClass("open"),i.closest(".period").addClass("open"))}}))})),e(".nav-years .period").on("click",(function(t){var n=e(this),i=e(".nav-years");n.hasClass("open")||(i.find(".inner").addClass("hide"),n.find("ul.inner").removeClass("hide"),i.find(".period.open").removeClass("open"),n.addClass("open"),i.find("li.active").removeClass("active"))})),e(".list-posts").each((function(){e(this).find(".multiple").length&&e(this).addClass("dotted")})),e(".list-posts .entry-content").each((function(){f(e(this))}))}))}(jQuery),window.handleScrollToYear=function(e){let t=e.slice(1);if(0===$(e).length){var n=$(".infiniteLoad").data().artecats,i=$(".infiniteLoad").data().arteoffset;setTimeout((function(){c(n,i,t-1,1)}),1e3)}},window.location.hash&&window.handleScrollToYear(window.location.hash)},function(e,t){
/*!
Waypoints - 4.0.1
Copyright Â© 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(){"use strict";var e=0,t={};function n(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=n.Adapter.extend({},n.defaults,i),this.element=this.options.element,this.adapter=new n.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=n.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=n.Context.findOrCreateByElement(this.options.context),n.offsetAliases[this.options.offset]&&(this.options.offset=n.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),t[this.key]=this,e+=1}n.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},n.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},n.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete t[this.key]},n.prototype.disable=function(){return this.enabled=!1,this},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},n.prototype.next=function(){return this.group.next(this)},n.prototype.previous=function(){return this.group.previous(this)},n.invokeAll=function(e){var n=[];for(var i in t)n.push(t[i]);for(var o=0,r=n.length;o<r;o++)n[o][e]()},n.destroyAll=function(){n.invokeAll("destroy")},n.disableAll=function(){n.invokeAll("disable")},n.enableAll=function(){for(var e in n.Context.refreshAll(),t)t[e].enabled=!0;return this},n.refreshAll=function(){n.Context.refreshAll()},n.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},n.viewportWidth=function(){return document.documentElement.clientWidth},n.adapters=[],n.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},n.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=n}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}var t=0,n={},i=window.Waypoint,o=window.onload;function r(e){this.element=e,this.Adapter=i.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+t,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,n[e.waypointContextKey]=this,t+=1,i.windowContext||(i.windowContext=!0,i.windowContext=new r(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}r.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},r.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;e&&t&&!i&&(this.adapter.off(".waypoints"),delete n[this.key])},r.prototype.createThrottledResizeHandler=function(){var e=this;function t(){e.handleResize(),e.didResize=!1}this.adapter.on("resize.waypoints",(function(){e.didResize||(e.didResize=!0,i.requestAnimationFrame(t))}))},r.prototype.createThrottledScrollHandler=function(){var e=this;function t(){e.handleScroll(),e.didScroll=!1}this.adapter.on("scroll.waypoints",(function(){e.didScroll&&!i.isTouch||(e.didScroll=!0,i.requestAnimationFrame(t))}))},r.prototype.handleResize=function(){i.Context.refreshAll()},r.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in t){var i=t[n],o=i.newScroll>i.oldScroll?i.forward:i.backward;for(var r in this.waypoints[n]){var s=this.waypoints[n][r];if(null!==s.triggerPoint){var a=i.oldScroll<s.triggerPoint,l=i.newScroll>=s.triggerPoint;(a&&l||!a&&!l)&&(s.queueTrigger(o),e[s.group.id]=s.group)}}}for(var c in e)e[c].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},r.prototype.innerHeight=function(){return this.element==this.element.window?i.viewportHeight():this.adapter.innerHeight()},r.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},r.prototype.innerWidth=function(){return this.element==this.element.window?i.viewportWidth():this.adapter.innerWidth()},r.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var n in this.waypoints[t])e.push(this.waypoints[t][n]);for(var i=0,o=e.length;i<o;i++)e[i].destroy()},r.prototype.refresh=function(){var e,t=this.element==this.element.window,n=t?void 0:this.adapter.offset(),o={};for(var r in this.handleScroll(),e={horizontal:{contextOffset:t?0:n.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:n.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var s=e[r];for(var a in this.waypoints[r]){var l,c,u,d,p=this.waypoints[r][a],f=p.options.offset,h=p.triggerPoint,m=0,g=null==h;p.element!==p.element.window&&(m=p.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(p):"string"==typeof f&&(f=parseFloat(f),p.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,p.triggerPoint=Math.floor(m+l-f),c=h<s.oldScroll,u=p.triggerPoint>=s.oldScroll,d=!c&&!u,!g&&(c&&u)?(p.queueTrigger(s.backward),o[p.group.id]=p.group):(!g&&d||g&&s.oldScroll>=p.triggerPoint)&&(p.queueTrigger(s.forward),o[p.group.id]=p.group)}}return i.requestAnimationFrame((function(){for(var e in o)o[e].flushTriggers()})),this},r.findOrCreateByElement=function(e){return r.findByElement(e)||new r(e)},r.refreshAll=function(){for(var e in n)n[e].refresh()},r.findByElement=function(e){return n[e.waypointContextKey]},window.onload=function(){o&&o(),r.refreshAll()},i.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},i.Context=r}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}var n={vertical:{},horizontal:{}},i=window.Waypoint;function o(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}o.prototype.add=function(e){this.waypoints.push(e)},o.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},o.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],o="up"===n||"left"===n;i.sort(o?t:e);for(var r=0,s=i.length;r<s;r+=1){var a=i[r];(a.options.continuous||r===i.length-1)&&a.trigger([n])}}this.clearTriggerQueues()},o.prototype.next=function(t){this.waypoints.sort(e);var n=i.Adapter.inArray(t,this.waypoints);return n===this.waypoints.length-1?null:this.waypoints[n+1]},o.prototype.previous=function(t){this.waypoints.sort(e);var n=i.Adapter.inArray(t,this.waypoints);return n?this.waypoints[n-1]:null},o.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},o.prototype.remove=function(e){var t=i.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},o.prototype.first=function(){return this.waypoints[0]},o.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},o.findOrCreate=function(e){return n[e.axis][e.name]||new o(e)},i.Group=o}(),function(){"use strict";var e=window.jQuery,t=window.Waypoint;function n(t){this.$element=e(t)}e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],(function(e,t){n.prototype[t]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[t].apply(this.$element,e)}})),e.each(["extend","inArray","isEmptyObject"],(function(t,i){n[i]=e[i]})),t.adapters.push({name:"jquery",Adapter:n}),t.Adapter=n}(),function(){"use strict";var e=window.Waypoint;function t(t){return function(){var n=[],i=arguments[0];return t.isFunction(arguments[0])&&((i=t.extend({},arguments[1])).handler=arguments[0]),this.each((function(){var o=t.extend({},i,{element:this});"string"==typeof o.context&&(o.context=t(this).closest(o.context)[0]),n.push(new e(o))})),n}}window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}()},function(e,t,n){var i,o,r;o=[n(0)],void 0===(r="function"==typeof(i=function(e){var t=Array.prototype.slice,n=Array.prototype.splice,i={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},o=e(window),r=e(document),s=[],a=o.height(),l=function(){for(var t=o.scrollTop(),n=r.height(),i=n-a,l=t>i?i-t:0,c=0,u=s.length;c<u;c++){var d=s[c],p=d.stickyWrapper.offset().top-d.topSpacing-l;if(d.stickyWrapper.css("height",d.stickyElement.outerHeight()),t<=p)null!==d.currentTop&&(d.stickyElement.css({width:"",position:"",top:"","z-index":""}),d.stickyElement.parent().removeClass(d.className),d.stickyElement.trigger("sticky-end",[d]),d.currentTop=null);else{var f,h=n-d.stickyElement.outerHeight()-d.topSpacing-d.bottomSpacing-t-l;h<0?h+=d.topSpacing:h=d.topSpacing,d.currentTop!==h&&(d.getWidthFrom?f=e(d.getWidthFrom).width()||null:d.widthFromWrapper&&(f=d.stickyWrapper.width()),null==f&&(f=d.stickyElement.width()),d.stickyElement.css("width",f).css("position","fixed").css("top",h).css("z-index",d.zIndex),d.stickyElement.parent().addClass(d.className),null===d.currentTop?d.stickyElement.trigger("sticky-start",[d]):d.stickyElement.trigger("sticky-update",[d]),d.currentTop===d.topSpacing&&d.currentTop>h||null===d.currentTop&&h<d.topSpacing?d.stickyElement.trigger("sticky-bottom-reached",[d]):null!==d.currentTop&&h===d.topSpacing&&d.currentTop<h&&d.stickyElement.trigger("sticky-bottom-unreached",[d]),d.currentTop=h);var m=d.stickyWrapper.parent();d.stickyElement.offset().top+d.stickyElement.outerHeight()>=m.offset().top+m.outerHeight()&&d.stickyElement.offset().top<=d.topSpacing?d.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):d.stickyElement.css("position","fixed").css("top",h).css("bottom","").css("z-index",d.zIndex)}}},c=function(){a=o.height();for(var t=0,n=s.length;t<n;t++){var i=s[t],r=null;i.getWidthFrom?i.responsiveWidth&&(r=e(i.getWidthFrom).width()):i.widthFromWrapper&&(r=i.stickyWrapper.width()),null!=r&&i.stickyElement.css("width",r)}},u={init:function(t){var n=e.extend({},i,t);return this.each((function(){var t=e(this),o=t.attr("id"),r=o?o+"-"+i.wrapperClassName:i.wrapperClassName,a=e("<div></div>").attr("id",r).addClass(n.wrapperClassName);t.wrapAll(a);var l=t.parent();n.center&&l.css({width:t.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===t.css("float")&&t.css({float:"none"}).parent().css({float:"right"}),n.stickyElement=t,n.stickyWrapper=l,n.currentTop=null,s.push(n),u.setWrapperHeight(this),u.setupChangeListeners(this)}))},setWrapperHeight:function(t){var n=e(t),i=n.parent();i&&i.css("height",n.outerHeight())},setupChangeListeners:function(e){window.MutationObserver?new window.MutationObserver((function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&u.setWrapperHeight(e)})).observe(e,{subtree:!0,childList:!0}):(e.addEventListener("DOMNodeInserted",(function(){u.setWrapperHeight(e)}),!1),e.addEventListener("DOMNodeRemoved",(function(){u.setWrapperHeight(e)}),!1))},update:l,unstick:function(t){return this.each((function(){for(var t=e(this),i=-1,o=s.length;o-- >0;)s[o].stickyElement.get(0)===this&&(n.call(s,o,1),i=o);-1!==i&&(t.unwrap(),t.css({width:"",position:"",top:"",float:"","z-index":""}))}))}};window.addEventListener?(window.addEventListener("scroll",l,!1),window.addEventListener("resize",c,!1)):window.attachEvent&&(window.attachEvent("onscroll",l),window.attachEvent("onresize",c)),e.fn.sticky=function(n){return u[n]?u[n].apply(this,t.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.sticky"):u.init.apply(this,arguments)},e.fn.unstick=function(n){return u[n]?u[n].apply(this,t.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery.sticky"):u.unstick.apply(this,arguments)},e((function(){setTimeout(l,0)}))})?i.apply(t,o):i)||(e.exports=r)},function(e,t,n){var i,o,r;
/*! Magnific Popup - v1.1.0 - 2016-02-20
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2016 Dmitry Semenov; */o=[n(0)],void 0===(r="function"==typeof(i=function(e){var t,n,i,o,r,s,a=function(){},l=!!window.jQuery,c=e(window),u=function(e,n){t.ev.on("mfp"+e+".mfp",n)},d=function(t,n,i,o){var r=document.createElement("div");return r.className="mfp-"+t,i&&(r.innerHTML=i),o?n&&n.appendChild(r):(r=e(r),n&&r.appendTo(n)),r},p=function(n,i){t.ev.triggerHandler("mfp"+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},f=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},h=function(){e.magnificPopup.instance||((t=new a).init(),e.magnificPopup.instance=t)};a.prototype={constructor:a,init:function(){var n=navigator.appVersion;t.isLowIE=t.isIE8=document.all&&!document.addEventListener,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document),t.popupsCache={}},open:function(n){var o;if(!1===n.isObj){t.items=n.items.toArray(),t.index=0;var s,a=n.items;for(o=0;o<a.length;o++)if((s=a[o]).parsed&&(s=s.el[0]),s===n.el[0]){t.index=o;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(!t.isOpen){t.types=[],r="",n.mainEl&&n.mainEl.length?t.ev=n.mainEl.eq(0):t.ev=i,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=d("bg").on("click.mfp",(function(){t.close()})),t.wrap=d("wrap").attr("tabindex",-1).on("click.mfp",(function(e){t._checkIfClose(e.target)&&t.close()})),t.container=d("container",t.wrap)),t.contentContainer=d("content"),t.st.preloader&&(t.preloader=d("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(o=0;o<l.length;o++){var h=l[o];h=h.charAt(0).toUpperCase()+h.slice(1),t["init"+h].call(t)}p("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(u("MarkupParse",(function(e,t,n,i){n.close_replaceWith=f(i.type)})),r+=" mfp-close-btn-in"):t.wrap.append(f())),t.st.alignTop&&(r+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:c.scrollTop(),position:"absolute"}),(!1===t.st.fixedBgPos||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:i.height(),position:"absolute"}),t.st.enableEscapeKey&&i.on("keyup.mfp",(function(e){27===e.keyCode&&t.close()})),c.on("resize.mfp",(function(){t.updateSize()})),t.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&t.wrap.addClass(r);var m=t.wH=c.height(),g={};if(t.fixedContentPos&&t._hasScrollBar(m)){var v=t._getScrollbarSize();v&&(g.marginRight=v)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):g.overflow="hidden");var y=t.st.mainClass;return t.isIE7&&(y+=" mfp-ie7"),y&&t._addClassToMFP(y),t.updateItemHTML(),p("BuildControls"),e("html").css(g),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout((function(){t.content?(t._addClassToMFP("mfp-ready"),t._setFocus()):t.bgOverlay.addClass("mfp-ready"),i.on("focusin.mfp",t._onFocusIn)}),16),t.isOpen=!0,t.updateSize(m),p("Open"),n}t.updateItemHTML()},close:function(){t.isOpen&&(p("BeforeClose"),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP("mfp-removing"),setTimeout((function(){t._close()}),t.st.removalDelay)):t._close())},_close:function(){p("Close");var n="mfp-removing mfp-ready ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var o={marginRight:""};t.isIE7?e("body, html").css("overflow",""):o.overflow="",e("html").css(o)}i.off("keyup.mfp focusin.mfp"),t.ev.off(".mfp"),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&!0!==t.currTemplate[t.currItem.type]||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t.st.autoFocusLast&&t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,p("AfterClose")},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||c.height();t.fixedContentPos||t.wrap.css("height",t.wH),p("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(p("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var r=!!t.st[i]&&t.st[i].markup;p("FirstMarkupParse",r),t.currTemplate[i]=!r||e(r)}o&&o!==n.type&&t.container.removeClass("mfp-"+o+"-holder");var s=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(s,i),n.preloaded=!0,p("Change",n),o=n.type,t.container.prepend(t.contentContainer),p("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&!0===t.currTemplate[n]?t.content.find(".mfp-close").length||t.content.append(f()):t.content=e:t.content="",p("BeforeAppend"),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,o=t.items[n];if(o.tagName?o={el:e(o)}:(i=o.type,o={data:o,src:o.src}),o.el){for(var r=t.types,s=0;s<r.length;s++)if(o.el.hasClass("mfp-"+r[s])){i=r[s];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=i||t.st.type||"inline",o.index=n,o.parsed=!0,t.items[n]=o,p("ElementParse",o),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var o="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(o).on(o,i)):(n.isObj=!1,n.delegate?e.off(o).on(o,n.delegate,i):(n.items=e,e.off(o).on(o,i)))},_openClick:function(n,i,o){if((void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick)||!(2===n.which||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){var r=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(r)if(e.isFunction(r)){if(!r.call(t))return!0}else if(c.width()<r)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),o.el=e(n.mfpEl),o.delegate&&(o.items=i.find(o.delegate)),t.open(o)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var o={status:e,text:i};p("UpdateStatus",o),e=o.status,i=o.text,t.preloader.html(i),t.preloader.find("a").on("click",(function(e){e.stopImmediatePropagation()})),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass("mfp-prevent-close")){var i=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(i&&o)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(o&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?i.height():document.body.scrollHeight)>(e||c.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){if(n.target!==t.wrap[0]&&!e.contains(t.wrap[0],n.target))return t._setFocus(),!1},_parseMarkup:function(t,n,i){var o;i.data&&(n=e.extend(i.data,n)),p("MarkupParse",[t,n,i]),e.each(n,(function(n,i){if(void 0===i||!1===i)return!0;if((o=n.split("_")).length>1){var r=t.find(".mfp-"+o[0]);if(r.length>0){var s=o[1];"replaceWith"===s?r[0]!==i[0]&&r.replaceWith(i):"img"===s?r.is("img")?r.attr("src",i):r.replaceWith(e("<img>").attr("src",i).attr("class",r.attr("class"))):r.attr(o[1],i)}}else t.find(".mfp-"+n).html(i)}))},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:a.prototype,modules:[],open:function(t,n){return h(),(t=t?e.extend(!0,{},t):{}).isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},e.fn.magnificPopup=function(n){h();var i=e(this);if("string"==typeof n)if("open"===n){var o,r=l?i.data("magnificPopup"):i[0].magnificPopup,s=parseInt(arguments[1],10)||0;r.items?o=r.items[s]:(o=i,r.delegate&&(o=o.find(r.delegate)),o=o.eq(s)),t._openClick({mfpEl:o},i,r)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),l?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var m,g,v,y=function(){v&&(g.after(v.addClass(m)).detach(),v=null)};e.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push("inline"),u("Close.inline",(function(){y()}))},getInline:function(n,i){if(y(),n.src){var o=t.st.inline,r=e(n.src);if(r.length){var s=r[0].parentNode;s&&s.tagName&&(g||(m=o.hiddenClass,g=d(m),m="mfp-"+m),v=r.after(g).detach().removeClass(m)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),r=e("<div>");return n.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var w,C=function(){w&&e(document.body).removeClass(w)},b=function(){C(),t.req&&t.req.abort()};e.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push("ajax"),w=t.st.ajax.cursor,u("Close.ajax",b),u("BeforeChange.ajax",b)},getAjax:function(n){w&&e(document.body).addClass(w),t.updateStatus("loading");var i=e.extend({url:n.src,success:function(i,o,r){var s={data:i,xhr:r};p("ParseAjax",s),t.appendContent(e(s.data),"ajax"),n.finished=!0,C(),t._setFocus(),setTimeout((function(){t.wrap.addClass("mfp-ready")}),16),t.updateStatus("ready"),p("AjaxContentAdded")},error:function(){C(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(i),""}}});var x,k,E=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=t.st.image,i=".image";t.types.push("image"),u("Open"+i,(function(){"image"===t.currItem.type&&n.cursor&&e(document.body).addClass(n.cursor)})),u("Close"+i,(function(){n.cursor&&e(document.body).removeClass(n.cursor),c.off("resize.mfp")})),u("Resize"+i,t.resizeImage),t.isLowIE&&u("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,x&&clearInterval(x),e.isCheckingImgSize=!1,p("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(r){x&&clearInterval(x),x=setInterval((function(){i.naturalWidth>0?t._onImageHasSize(e):(n>200&&clearInterval(x),3==++n?o(10):40===n?o(50):100===n&&o(500))}),r)};o(1)},getImage:function(n,i){var o=0,r=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,p("ImageLoadComplete")):++o<200?setTimeout(r,100):s())},s=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",a.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},a=t.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.el&&n.el.find("img").length&&(c.alt=n.el.find("img").attr("alt")),n.img=e(c).on("load.mfploader",r).on("error.mfploader",s),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),(c=n.img[0]).naturalWidth>0?n.hasSize=!0:c.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:E(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(x&&clearInterval(x),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",a.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}}),e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var o,r,s=n.duration,a=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=i,t.css(o),t},l=function(){t.content.css("visibility","visible")};u("BuildControls"+i,(function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),!(e=t._getItemToZoom()))return void l();(r=a(e)).css(t._getOffset()),t.wrap.append(r),o=setTimeout((function(){r.css(t._getOffset(!0)),o=setTimeout((function(){l(),setTimeout((function(){r.remove(),e=r=null,p("ZoomAnimationEnded")}),16)}),s)}),16)}})),u("BeforeClose"+i,(function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=s,!e){if(!(e=t._getItemToZoom()))return;r=a(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout((function(){r.css(t._getOffset())}),16)}})),u("Close"+i,(function(){t._allowZoom()&&(l(),r&&r.remove(),e=null)}))}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return!!t.currItem.hasSize&&t.currItem.img},_getOffset:function(n){var i,o=(i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem)).offset(),r=parseInt(i.css("padding-top"),10),s=parseInt(i.css("padding-bottom"),10);o.top-=e(window).scrollTop()-r;var a={width:i.width(),height:(l?i.innerHeight():i[0].offsetHeight)-s-r};return void 0===k&&(k=void 0!==document.createElement("p").style.MozTransform),k?a["-moz-transform"]=a.transform="translate("+o.left+"px,"+o.top+"px)":(a.left=o.left,a.top=o.top),a}}});var S=function(e){if(t.currTemplate.iframe){var n=t.currTemplate.iframe.find("iframe");n.length&&(e||(n[0].src="//about:blank"),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule("iframe",{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push("iframe"),u("BeforeChange",(function(e,t,n){t!==n&&("iframe"===t?S():"iframe"===n&&S(!0))})),u("Close.iframe",(function(){S()}))},getIframe:function(n,i){var o=n.src,r=t.st.iframe;e.each(r.patterns,(function(){if(o.indexOf(this.index)>-1)return this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1}));var s={};return r.srcAction&&(s[r.srcAction]=o),t._parseMarkup(i,s,n),t.updateStatus("ready"),i}}});var T=function(e){var n=t.items.length;return e>n-1?e-n:e<0?n+e:e},_=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,o=".mfp-gallery";if(t.direction=!0,!n||!n.enabled)return!1;r+=" mfp-gallery",u("Open"+o,(function(){n.navigateByImgClick&&t.wrap.on("click"+o,".mfp-img",(function(){if(t.items.length>1)return t.next(),!1})),i.on("keydown"+o,(function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()}))})),u("UpdateStatus"+o,(function(e,n){n.text&&(n.text=_(n.text,t.currItem.index,t.items.length))})),u("MarkupParse"+o,(function(e,i,o,r){var s=t.items.length;o.counter=s>1?_(n.tCounter,r.index,s):""})),u("BuildControls"+o,(function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,o=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),r=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");o.click((function(){t.prev()})),r.click((function(){t.next()})),t.container.append(o.add(r))}})),u("Change"+o,(function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout((function(){t.preloadNearbyImages(),t._preloadTimeout=null}),16)})),u("Close"+o,(function(){i.off(o),t.wrap.off("click"+o),t.arrowRight=t.arrowLeft=null}))},next:function(){t.direction=!0,t.index=T(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=T(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),o=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?o:i);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?i:o);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=T(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),p("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",(function(){i.hasSize=!0})).on("error.mfploader",(function(){i.hasSize=!0,i.loadError=!0,p("LazyLoadError",i)})).attr("src",i.src)),i.preloaded=!0}}}}),e.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,(function(e){return"@2x"+e}))},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;(n=isNaN(n)?n():n)>1&&(u("ImageHasSize.retina",(function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})})),u("ElementParse.retina",(function(t,i){i.src=e.replaceSrc(i,n)})))}}}}),h()})?i.apply(t,o):i)||(e.exports=r)},function(e,t,n){var i,o,r;r=this,i=[n(8)],void 0===(o=function(e){return r["new GridDispatch()"]=function(e){function t(e,t,n,i){i||!e.dataset?e.setAttribute("data-"+t,n):e.dataset[t]=n}function n(e,t,n){for(var i=0;i<e.length&&!1!==t.call(n,e[i],i);i++);}function i(e){return"function"==typeof e}"function"!=typeof window.CustomEvent&&function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}window.CustomEvent=e,e.prototype=window.CustomEvent.prototype}()
/**
 * requestAnimationFrame polyfill by Erik MÃ¶ller. fixes from Paul Irish and Tino Zijdel
 *
 * @see http://paulirish.com/2011/requestanimationframe-for-smart-animating/
 * @see http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating
 * @license MIT
 */,function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),o=Math.max(0,16-(i-e)),r=window.setTimeout((function(){t(i+o)}),o);return e=i+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var o=function(e){this.columns=null,this.element=e,this.filtered=document.createDocumentFragment(),this.status=!1,this.columnClasses=null};o.prototype.setup=function(e,n){if(this.status)return!1;var o=document.createRange(),r=document.createElement("div");o.selectNodeContents(this.element),r.appendChild(o.extractContents()),window.requestAnimationFrame(function(){t(r,"columns",0),this.addColumns(r,e),this.status=!0,i(n)&&n.call(this)}.bind(this))},o.prototype.addColumns=function(e,i){var o,r,s,a=i.columnClasses||["column","size-1of"+i.columns],l=document.createDocumentFragment(),c=[],u=i.columns;for(this.filterItems(e,i.filter),a=Array.isArray(a)?a.join(" "):a;0!=u--;)o="[data-columns] > *:nth-child("+i.columns+"n-"+u+")",c.push(e.querySelectorAll(o));n(c,(function(e){r=document.createElement("div"),s=document.createDocumentFragment(),r.className=a,n(e,(function(e){s.appendChild(e)})),r.appendChild(s),l.appendChild(r)})),this.element.appendChild(l),t(this.element,"columns",i.columns),this.columns=i.columns,this.columnClasses=i.columnClasses},o.prototype.filterItems=function(e,i){return i?(r=Array.prototype.slice.call(e.children),n(e.querySelectorAll("[data-columns] > "+i),(function(e){o=r.indexOf(e),this.filtered.appendChild(e),t(e,"position",o)}),this),e):e;var o,r},o.prototype.removeColumns=function(){var e,i=document.createRange(),o=document.createElement("div"),r=[];return i.selectNodeContents(this.element),e=Array.prototype.filter.call(i.extractContents().childNodes,(function(e){return e instanceof window.HTMLElement})),r.length=e[0].childNodes.length*e.length,n(e,(function(t,i){n(t.children,(function(t,n){r[n*e.length+i]=t}))})),t(o,"columns",0),r.filter((function(e){return!!e})).forEach((function(e){o.appendChild(e)})),o},o.prototype.redraw=function(e,t){var n,o=new CustomEvent("savvior:redraw",{detail:{element:this.element,from:this.columns,to:e.columns,filter:e.filter||null}});window.requestAnimationFrame(function(){this.columns!==e.columns&&(n=this.restoreFiltered(this.removeColumns()),this.addColumns(n,e)),window.dispatchEvent(o),i(t)&&t(this)}.bind(this))},o.prototype.restoreFiltered=function(e){if(0===this.filtered.childNodes.length)return e;var t,i=e;return n(this.filtered.querySelectorAll("[data-position]"),(function(e){t=Number(e.getAttribute("data-position")),e.removeAttribute("data-position"),i.insertBefore(e,i.children[t]||null)})),e},o.prototype.restore=function(e,t){if(!this.status)return i(e)&&e(!1),!1;var o=document.createDocumentFragment(),r=[],s=new CustomEvent("savvior:restore",{detail:{element:this.element,from:this.columns}});window.requestAnimationFrame(function(){n(this.restoreFiltered(this.removeColumns()).childNodes,(function(e){r.push(e)})),r.forEach((function(e){o.appendChild(e)})),this.element.appendChild(o),this.element.removeAttribute("data-columns"),window.dispatchEvent(s),i(e)&&e.call(t,t||this)}.bind(this))},o.prototype.addItems=function(e,t,o){var r=new CustomEvent("savvior:addItems",{detail:{element:this.element,grid:this}}),s=function(e){return t.clone?e.cloneNode(!0):e},a={append:function(e,t){var n=s(e);return t.appendChild(n),t},prepend:function(e,t){var n=s(e);return t.insertBefore(n,t.firstChild),t}};window.requestAnimationFrame(function(){var s=this.restoreFiltered(this.removeColumns());e instanceof NodeList||e instanceof Array?n(e,(function(e){s=a[t.method].call(null,e,s)})):s=a[t.method].call(null,e,s),this.addColumns(s,{columns:this.columns,columnClasses:this.columnClasses,filter:this.filter}),window.dispatchEvent(r),i(o)&&o(this)}.bind(this))};var r=function(e,t){this.selector=e,this.options=t,this.queryHandlers=[],this.grids=[],this.ready=!1};r.prototype.register=function(){for(var t in n(document.querySelectorAll(this.selector),(function(e){this.grids.push(new o(e,this.options))}),this),this.options)this.queryHandlers.push(this.constructHandler(t,this.options[t]));return n(this.queryHandlers,(function(t){e.register(t.mq,t.handler)})),this.ready=!0,this},r.prototype.constructHandler=function(e){return{mq:e,handler:{deferSetup:!0,setup:function(){this.gridSetup(e)}.bind(this),match:function(){this.gridMatch(e)}.bind(this),destroy:function(){}}}},r.prototype.gridSetup=function(e){var t;n(this.grids,(function(n){n.setup(this.options[e],(function(){t=new CustomEvent("savvior:setup",{detail:{element:n.element,columns:n.columns,filter:this.filter}}),window.dispatchEvent(t)}))}),this)},r.prototype.gridMatch=function(e){var t;n(this.grids,(function(n){t=new CustomEvent("savvior:match",{detail:{element:n.element,from:n.columns,to:this.options[e].columns,query:e}}),n.redraw(this.options[e],(function(){window.dispatchEvent(t)}))}),this)},r.prototype.unregister=function(t,o){n(this.queryHandlers,(function(t){e.unregister(t.mq)})),n(this.grids,(function(e){e.restore((function(){this.queryHandlers=[],this.ready=!1,i(t)&&t.call(this,o||this)}),this)}),this),this.grids=[]};var s=function(){if(!e)throw new Error("enquire.js not present, please load it before calling any methods");this.grids={}};return s.prototype.init=function(e,t){if(!e)throw new TypeError("Missing selector");if("string"!=typeof e)throw new TypeError("Selector must be a string");if("object"!=typeof t)throw new TypeError("Options must be an object");return this.grids[e]||document.querySelectorAll(e).length<1||(this.grids[e]=new r(e,t),this.grids[e].register(t),window.dispatchEvent(new CustomEvent("savvior:init"))),this},s.prototype.destroy=function(e,t){var o=new CustomEvent("savvior:destroy",{detail:{selectors:e}}),r=void 0===e||function(e,t){for(t in e)return!1;return!0}(e)?Object.keys(this.grids):e,s=r.length,a=0,l=function(e){delete this.grids[r[a]],++a===s&&(window.dispatchEvent(o),i(t)&&t.call(e,this))}.bind(this);n(r,(function(e){this.grids[e]&&this.grids[e].unregister(l)}),this)},s.prototype.ready=function(e){if(void 0===e){var t=[];for(var n in this.grids)this.grids[n].ready&&t.push(n);return t.length>0&&t}return!!this.grids[e]&&this.grids[e].ready},s.prototype.addItems=function(e,t,o,r){var s,a,l={clone:!1,method:"append"};if(!this.grids[e])throw new TypeError("Grid does not exist.");if("string"==typeof t&&(t=document.querySelectorAll(t)),t instanceof Array)n(t,(function(e){if(!(e instanceof Node))throw new TypeError("Supplied element in array is not instance of Node.")}),this);else if(!(t instanceof Node||t instanceof NodeList))throw new TypeError("Supplied argument is not a Node or a NodeList.");return i(o)?(s=o,a=l):(s=r,a=function(e,t){for(var n in e)t[n]=e[n];return t}(o,l)),n(this.grids[e].grids,(function(e){e.addItems(t,a,s)})),this},new s}(e)}.apply(t,i))||(e.exports=o)},function(e,t,n){var i;
/*!
 * enquire.js v2.1.1 - Awesome Media Queries in JavaScript
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/enquire.js
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */!function(o,r,s){var a=window.matchMedia;e.exports?e.exports=s(a):void 0===(i=function(){return r.enquire=s(a)}.call(t,n,t,e))||(e.exports=i)}(0,this,(function(e){"use strict";function t(e,t){for(var n=0,i=e.length;n<i&&!1!==t(e[n],n);n++);}function n(e){this.options=e,!e.deferSetup&&this.setup()}function i(t,n){this.query=t,this.isUnconditional=n,this.handlers=[],this.mql=e(t);var i=this;this.listener=function(e){i.mql=e,i.assess()},this.mql.addListener(this.listener)}function o(){if(!e)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!e("only all").matches}return n.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},i.prototype={addHandler:function(e){var t=new n(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var n=this.handlers;t(n,(function(t,i){if(t.equals(e))return t.destroy(),!n.splice(i,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,(function(t){t[e]()}))}},o.prototype={register:function(e,n,o){var r=this.queries,s=o&&this.browserIsIncapable;return r[e]||(r[e]=new i(e,s)),"function"==typeof n&&(n={match:n}),function(e){return"[object Array]"===Object.prototype.toString.apply(e)}(n)||(n=[n]),t(n,(function(t){r[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},new o}))}]);